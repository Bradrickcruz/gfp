"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteIncomeCategory=exports.createIncomeCategory=exports.updateIncomeCategory=exports.findIncomeCategoryByField=exports.findOneIncomeCategory=exports.findAllIncomeCategories=void 0;var _incomeCategoryModel=_interopRequireDefault(require("../models/incomeCategoryModel.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function asyncGeneratorStep(e,r,n,t,a,o,c){try{var s=e[o](c),u=s.value}catch(e){return void n(e)}s.done?r(u):Promise.resolve(u).then(t,a)}function _asyncToGenerator(s){return function(){var e=this,c=arguments;return new Promise(function(r,n){var t=s.apply(e,c);function a(e){asyncGeneratorStep(t,r,n,a,o,"next",e)}function o(e){asyncGeneratorStep(t,r,n,a,o,"throw",e)}a(void 0)})}}var findAllIncomeCategories=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_incomeCategoryModel.default.find({});case 3:t=e.sent,n.send({docs:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.status(500).send({error:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(e,r){return n.apply(this,arguments)}}();exports.findAllIncomeCategories=findAllIncomeCategories;var findOneIncomeCategory=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.params.id,e.prev=1,e.next=4,_incomeCategoryModel.default.findById(t);case 4:t=e.sent,n.send({doc:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.status(500).send({error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,r){return n.apply(this,arguments)}}();exports.findOneIncomeCategory=findOneIncomeCategory;var findIncomeCategoryByField=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.params,t=a.field,a=a.search,a=_defineProperty({},t,{$regex:".*".concat(decodeURIComponent(a),".*")}),e.prev=2,e.next=5,_incomeCategoryModel.default.find(a);case 5:a=e.sent,n.send({docs:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.status(500).send({error:e.t0});case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(e,r){return n.apply(this,arguments)}}();exports.findIncomeCategoryByField=findIncomeCategoryByField;var updateIncomeCategory=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.params.id,a=r.body,e.prev=2,e.next=5,_incomeCategoryModel.default.findByIdAndUpdate(t,a);case 5:return a=e.sent,e.next=8,a.save();case 8:n.send(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),n.status(500).send({error:e.t0});case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(e,r){return n.apply(this,arguments)}}();exports.updateIncomeCategory=updateIncomeCategory;var createIncomeCategory=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.body,e.prev=1,e.next=4,new _incomeCategoryModel.default(t);case 4:return a=e.sent,e.next=7,a.save();case 7:n.send({newDoc:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.status(500).send({error:e.t0});case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e,r){return n.apply(this,arguments)}}();exports.createIncomeCategory=createIncomeCategory;var deleteIncomeCategory=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.params.id,e.prev=1,e.next=4,_incomeCategoryModel.default.findByIdAndDelete(t);case 4:n.send(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n.status(500).send({error:e.t0});case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(e,r){return n.apply(this,arguments)}}();exports.deleteIncomeCategory=deleteIncomeCategory;